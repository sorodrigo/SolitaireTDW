<html>
<head>
    <title> Solitaire</title>
    <script type="text/javascript" src="Model.js"></script>
    <script type="text/javascript" src="Controller.js"></script>
    <link rel="stylesheet" href="View.css" type="text/css">
</head>
<body>

<div id="body">
    <h1> Welcome to Solitaire!</h1>

    <div id="debugdiv">
        <p id="debug"></p>
    </div>

    <div id="board">
        <div id="up"></div>
        <div id="left"></div>
        <div id="center"></div>
        <div id="right"></div>
        <div id="down"></div>
    </div>

    <div id="scorebox">
        <p id="score"></p>
        <br>
        <button id="custom" onclick="game.customGame()"> Place</button>
        <br>
        <br>
        HH : MM : SS
        <br>
        <input type="text" id="hours" class="clock" value="" maxlength="1"> :
        <input type="text" id="minutes" class="clock" value="" maxlength="2"> :
        <input type="text" id="seconds" class="clock" value="" maxlength="2"> <br><br>
        <input type="submit" id="ok" value="OK" onclick="timer()">

    </div>

</div>
<script type="text/javascript">

    var game = new Game(false);
    game.newGame();

    function startTimer() {
        game.updateTimer();
        if (game.timer > 0) {
            window.setTimeout("startTimer()", 1000);
        }
        else{
            game.time = false;
        }
    }

    function timer()
    {
        if (game.timer == 0) {
            game.setTimer();
            startTimer();
        }
    }

    function choose(ev) {

        var evento = ev || window.event;

        var id = evento.target.id;

        game.current = game.getCircleById(id);

        if (!game.custom) {
            if (game.movesRemaining() && game.time) {
                if (game.previous != null && game.current.tipo == "hueco") {
                    game.move();
                    game.previous = null;
                }
                else if (game.current.tipo == "imagen") {
                    game.previous = game.current;
                }
            }
        }

        else {
            game.place();
        }

    }


    document.getElementById("board").onclick = choose;


</script>
</body>
</html>